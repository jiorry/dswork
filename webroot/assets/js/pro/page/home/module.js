define("home.module",["app","ajax","util","appData"],function(e,t,n,r){return e.controller("HomeModuleCtrl",["$scope","$element",function(e,i){function s(i){t.NewClient("/api/open").send("drawing.app.DrawItems",{page:i}).done(function(t){var i,s,o;for(s=t.length-1;s>=0;s--){o=t[s],i=n.objectFind("id",parseInt(t.project_id),r.projects),t[s].project_name=i?i.name:"not found",t[s].project_name=n.objectFind("id",o.project_id,r.projects).name,t[s].created=n.str2date(o.created),t[s].activeData=n.drawingActiveStatus(o,r);if(o.activeData.finish_zt){var u=new Date(o.created.getTime()+o.draw_plan*n.DATE_DAY);t[s].draw_play_human_time=n.humanTime(o.created,u),t[s].draw_play_date=n.date2str(u,"time")}t[s].created=n.date2str(o.created,"time")}e.$apply(function(){e.items=t})})}s(1)}]),{title:"消息列表",goBackButton:!1,headerHtml:'<a href="/drawing/form">+添加项目</a>',i18n:!1}});
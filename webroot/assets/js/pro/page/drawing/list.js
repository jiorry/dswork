define("drawing.list",["app","ajax","util","appData","ngDatetimePicker"],function(e,t,n,r){return e.controller("DrawingListCtrl",["$scope","$element","$location",function(e,i,s){function u(){var i={end:e.end,begin:e.begin,project_id:e.project_id?e.project_id:0,subject_id:e.subject_id?e.subject_id:0};t.NewClient("/api/open").button(o).send("drawing.app.DrawItems",i).done(function(t){var i,s,o;for(s=t.length-1;s>=0;s--)o=t[s],i=n.objectFind("id",parseInt(o.project_id),r.projects),t[s].project_name=i?i.name:"null",subject=n.objectFind("id",parseInt(o.subject_id),r.subjects),t[s].subject_name=subject?subject.name:"null",t[s].created=n.date2str(o.created,"time"),t[s].xmjl_user=n.objectFind("id",o.xmjl_id,r.all_users),t[s].js_user=n.objectFind("id",o.js_sign_by,r.all_users),t[s].zt_user=n.objectFind("id",o.zt_sign_by,r.all_users),t[s].xmgl_user=n.objectFind("id",o.xmgl_sign_by,r.all_users),t[s].sw_user=n.objectFind("id",o.sw_sign_by,r.all_users);e.$apply(function(){e.items=t})})}e.projects=r.projects,e.subjects=r.subjects;var o=i.find("a.btn-default");o.click(function(){u()})}]),{title:"晒图列表",goBackButton:!0,headerHtml:"",i18n:!1}});
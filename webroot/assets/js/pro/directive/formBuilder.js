define("ngFormBuilder",["app"],function(e){e.directive("ngFormBuilder",["$rootScope","$compile","$animate",function(e,t,n){function r(r,i,s){return function(r,i,s,o,u){function v(e,n,s){if(!n)return;p='<form name="'+s+'" onsubmit="return false;" novalidate>',p+='<header class="step-title"><em>:</em>'+m(n.title)+"</header>";var o,a,f;for(var o=0;o<n.items.length;o++)f=n.items[o],a=h[f.type],a&&(p+=a(f,s));p+="</form>",l&&l.remove();var v=u(d,function(e){i.after(e)});v.html(p),t(v.contents())(d),l=v,v.on("click","a.btn-submit",function(){c(),r.$emit("$formSubmit",v,d)}).on("click","a.cancel",function(){r.$emit("$formCancel",v,d)}),r.$emit("$buildFormSuccess",v,d)}function m(t){switch(typeof t){case"string":return t;case"object":var n=t[e.language];return n?n:"";default:return""}}var a=0,f,l,c=function(){f&&(f.remove(),f=null),l&&(n.leave(l).then(function(){f=null}),f=l,l=null)},h={contact:function(e,t){var n=m(e.label),r=e.name;return'<div class="form-group">'+(n!=""?"<label>"+n+": </label>":"")+'<div ng-contact-select="'+r+'" name="'+r+'" ng-model="'+r+'" '+(e.require?'ng-required="true"':"")+"></div>"+"</div>"},checkbox:function(e,t){},date:function(e,t,n){var r=m(e.label),i=e.name,n=n?n:"date";return'<div class="form-group datepicker" ng-class="{\'has-error\':'+t+"."+i+".$invalid && !"+t+"."+i+'.$pristine}">'+"<label>"+r+"</label>"+'<input name="'+i+'" ng-model="'+i+'" type="text" ng-datetime-picker="'+n+'" class="form-control" '+(e.range?'range-picker="'+e.range+'"':"")+"/>"+"</div>"},datetime:function(e,t){return h.date(e,t,"hour")},editor:function(e,t){var n=m(e.label),r=e.name;return'<div class="form-group">'+(n!=""?"<label>"+n+": </label>":"")+'<textarea name="'+r+'" ng-model="'+r+'" class="form-control editor" ng-editor="'+e.mode+'" '+(e.require?'ng-required="true"':"")+' placeholder="'+(e.placeholder?e.placeholder:"")+'" rows="8"></textarea>'+"</div>"},textarea:function(e,t){var n=m(e.label),r=e.name;return'<div class="form-group">'+(n!=""?"<label>"+n+": </label>":"")+'<textarea name="'+r+'" ng-model="'+r+'" class="form-control editor" '+(e.require?'ng-required="true"':"")+' placeholder="'+(e.placeholder?e.placeholder:"")+'" rows="8"></textarea>'+"</div>"},text:function(e,t){var n=m(e.label),r=e.name;return'<div class="form-group">'+(n!=""?"<label>"+n+": </label>":"")+"<strong>{{"+r+"}}</strong>"},input:function(e,t){var n=m(e.label),r=e.name;return'<div class="form-group">'+(n!=""?"<label>"+n+": </label>":"")+'<input name="'+r+'" ng-model="'+r+'" '+(e.require?'ng-required="true"':"")+' type="text" class="form-control" placeholder="'+(e.placeholder?e.placeholder:"")+'">'+"</div>"},buttonSave:function(e,t){var n=m(e.submit),r=m(e.cancel);return'<div class="btn-group mgt-50" style="width:100%">'+(r!=""?'<a class="cancel btn btn-default col-xs-2">&lt;-'+r+"</a>":"")+'<a ng-click="submit($event)" ng-disabled="'+t+'.$invalid" class="btn btn-primary btn-submit col-xs-10">'+n+"</a>"+"</div>"}},p;r.$on("$runFormBuilder",v);var d=r.$new()}}return{scope:!1,restrict:"A",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:r}}])});